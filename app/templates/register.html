<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Create your account | PLNR U</title>
    <link href='https://fonts.googleapis.com/css?family=Open Sans' rel='stylesheet'>
    <link href="../static/css/main.css" rel="stylesheet" type="text/css">
    <script>
        function checkExistingAccount() {
            var username = document.getElementById("username").value;
            // You would need to implement logic to check if the username already exists in your database
            // For now, we'll assume a simple check
            if (username === "existing_username") {
                var confirmLogin = confirm("You already have an account with this username. Do you want to log in instead?");
                if (confirmLogin) {
                    window.location.href = "/login"; // Redirect to the login page
                }
            }
        }
    </script>
</head>
<body>

    <!-- Left content div -->
    <div class = "left-block">

        <!-- PLNR U Logo - links to landing page -->
        <a href="landing.html">
            <img class = "main-logo" src = "../static/assets/PLNRUlogo.png" alt = "PLNR U">
        </a>

        <!-- Page heading -->
        <h1>Create your account</h1>

        <!-- TRACIE - NOT SURE WHAT THIS IS - IT PRINTS AS TEXT IN THE UI
            SO I COMMENTED IT OUT FOR NOW -->

        <!-- {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <ul>
                    {% for category, message in messages %}
                        <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                </ul>
            {% endif %}
        {% endwith %} -->
        
        <!-- Form div -->
        <div class = "form">
            <table>
                <form method="POST" action="/register">
                    <tr>
                        <td>
                            <label for="username">Username</label>
                        </td>
                        <td>
                            <input class = "register_form" type="text" name="username" id="username" required>
                          </td>
                    </tr>
                    <tr>
                        <td>
                            <label for="email">Email</label>
                        </td>
                        <td>
                            <input class = "register_form" type="email" name="email" required>
                        </td>
                    </tr>
                    <!-- Add a password field for the user's password -->
                    <tr>
                        <td>
                            <label for="password">Password</label>
                        </td>
                        <td>
                            <input class = "register_form" type="password" name="password" required><br>
                        </td>
                    </tr>
                    <tr>
                        <td>
                             
                        </td>
                        <td>
                            <input type="submit" value="Register Now!" onclick="checkExistingAccount()">
                        </td>
                    </tr>
                </form>
            </table>
        </div>

        <!-- Login div -->
        <div style="margin-left: 140px;">
            <p class = "helper-text">Already have an account?</p>

            <a href="login.html">
                <button class = "button deep-blue left-button">Log In</button>
            </a>
        </div>

    </div>

    <!-- Right image -->
    <img class = "full-height-image" src="../static/assets/register.png">

</body>

</html>
