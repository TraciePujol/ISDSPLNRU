<!DOCTYPE html>
<html>
<head>
    <title>User Registration</title>
    <script>
        function checkExistingAccount() {
            var username = document.getElementById("username").value;
            // You would need to implement logic to check if the username already exists in your database
            // For now, we'll assume a simple check
            if (username === "existing_username") {
                var confirmLogin = confirm("You already have an account with this username. Do you want to log in instead?");
                if (confirmLogin) {
                    window.location.href = "/login"; // Redirect to the login page
                }
            }
        }
    </script>
</head>
<body>
    <h1>User Registration</h1>

    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <ul>
                {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                {% endfor %}
            </ul>
        {% endif %}
    {% endwith %}

    <form method="POST" action="/register">
        <label for="username">Username:</label>
        <input type="text" name="username" id="username" required><br>

        <label for="email">Email:</label>
        <input type="email" name="email" required><br>

        <!-- Add a password field for the user's password -->
        <label for="password">Password:</label>
        <input type="password" name="password" required><br>

        <input type="submit" value="Register" onclick="checkExistingAccount()">
    </form>

    <p>Already have an account? <a href="/login">Login here</a></p>
</body>
<!-- Footer -->
<footer style="margin-top: 20px;"> <!-- Add margin-top here -->
    <div class="footer-content">
        <div class="left-content">
            <p>&copy; 2023 Capstone Consultants</p>
            <div class="names">
                <p>Project Manager: John Vrana</p>
                <p>Documentation & Compliance: Marissa Black</p>
                <p>Data & Quality Assurance: Tracie Pujol</p>
                <p>ISDS 4125 Fall1 2023</p>
            </div>
        </div>
        <div class="right-content">
            <img src="/static/images/logo.png" alt="Capstone Consultants Logo">
        </div>
    </div>
</footer>
</html>
